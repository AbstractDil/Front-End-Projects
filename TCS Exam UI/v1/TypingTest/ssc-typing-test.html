<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        SSC Typing Test
    </title>
    
    <!-- cdn links starts  -->

    <link rel="stylesheet" href="css/style.css">
    

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"> </script>
    <!-- cdn links ends  -->


</head>

<body>




    <!-- Header Start -->

<header>
    <nav class="navbar fixed-top navbar-light bg-white mb-2 border-bottom">
        <a class="navbar-brand">
            <strong>

                SSC Typing Test
            </strong>
        </a>
        <div class="d-flex">


            <!-- Show timer -->

            <div class="btn btn-warning btn-sm mr-1" id="showTimer">
                <i class="fa fa-clock-o"></i>
                Time Left:
                <span id="timer">00:00</span>
            </div>

            <!-- Show timer ends -->
    </nav>

</header>
    <!-- Header Ends -->

    <!-- Show Alert Msg -->

    <!-- Main Content Starts -->
    <main class="bg-light  pt-5 pb-5">
        <div class="container">
            <div class="row py-3">
                <div class="col-md-12" id="alertMessage">
                    
                </div>
            </div>
            </div>
    
            <!-- show alert msg ends -->
    
    
        <div class="container">
            <div class="row  pb-5">    
                <!-- Typing Div Starts -->
    
                <div class="col-md-9 order-md-1 order-2">
    
                    <!-- Typing Div -->
    
    
                    <div class="form-group mob-mt-2">
                        <label for="OriginalText">
                            <h4>
                                Original Text
                            </h4>
                        </label>
        <div class="card">
            <div class="card-body table-responsive"  style="height: 180px;border: 1px solid #000;">

                <div id="OriginalText">

                </div>

            </div>
        </div>
                        <small class="my-3 text-muted">
                            <span id="totalWordsOT"></span>
                            <span id="totalSpaceOT"></span>

                            <span id="totalCharactersOT"></span>
                            <span id="totalKeyStokesOT"></span>
    
                        </small>
                    </div>


                    <form spellcheck="false" autocapitalize="off" autocorrect="off" data-gramm="false" 
                    id="FormTT" method = "POST">
    
    
                        <div class="form-group">
                            <label for="TypedText">
                                <h4>
                                    Type Here
                                </h4>
                            </label>
                            <textarea class="form-control" id="TypedText" rows="8" spellcheck="false"
                                data-gramm_editor="false" name="typedtext"></textarea>
    
                            <small class="my-3 text-muted">
                                <span id="totalWordsTT"></span>
                                <span id="totalSpaceTT"></span>
                                <span id="totalCharactersTT"></span>
                                <span id="totalKeyStokesTT"></span>
                                <span id="WrongCharCountTT"></span>
    
    
                            </small>
    
                        </div>
    
    
    
    
                        <button type="submit" class="btn btn-info ">
    
                            <i class="fa fa-check"></i>
    
                            Submit Test
    
                        </button>
                    </form>
    
                </div>
    
                <!-- Typing Div Ends -->
    
    
                <!-- User Div Starts -->
    
                <!-- Show user name  -->
    
                <aside class="col-md-3  order-md-2 order-1">
    
    
                    <div class="card">
    
    
    
                        <div class="card-body">
                            <div class="media">
                                <img class="media-object" src="https://cdn-icons-png.flaticon.com/512/149/149071.png"
                                    alt="Candidate Photo" width="48" height="48">
    
    
    
                                <div class="media-body">
                                    <h5 class="mt-0 mx-3" style="font-size: 16px;">
                                        <span id="Candidate_Name">
                                           Sagar Nandy
                                        </span>
                                    </h5>
                                    <h6 class="mx-3" style="font-size: 13px;">
                                        Roll No : <span id="Candidate_RollNo"> 6295980525 </span>
                                    </h6>
                                    <h6 class="mx-3" style="font-size: 13px;">
                                        Language : <span id="Candidate_RollNo"> English</span>
                                    </h6>
                                </div>
    
    
    
                            </div>
    
                            <div class="text-center mt-3">
                                <a type="button" class="btn btn-outline-danger btn-block" title="Logout">
                                    <i class="fa fa-power-off"></i>
                                    System Logout
                                </a>
                            </div>
    
    
    
    
                        </div>
                    </div>
    
    
                </aside>
    
    
    
            </div>
        </div>

          <!-- Instruction Modal Starts -->

    <!-- Modal -->
    <div class="modal fade" id="InstructionModal" data-backdrop="static" data-keyboard="false" tabindex="-1"
    aria-labelledby="InstructionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title" id="InstructionModalLabel">
                    <i class="fa fa-info-circle"></i>
                    Instructions
                </h5>
                <!-- <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true" class="text-white">&times;</span>
      </button> -->
            </div>
            <div class="modal-body">
                <p><b>Please read the following instructions carefully.</b></p>
                <ol>
                    <li>The Test is for 15 minutes duration</li>
                    <li>The Test is case sensitive.</li>
                    <li>Do not give extra space between the words.</li>
                    <li>The passage given should be typed only once. </li>
                    <li>If spare time is available candidates may utilise the time for checking the type script and
                        making corrections.</li>
                    <li>If the time finishes before you complete the passage the typed text will automatically be
                        saved and considered for evaluation.</li>
                    <li>The Test passage should be typed using Backspace and Arrow keys(Up, Down, Left, Right).</li>
                </ol>
            </div>
            <div class="modal-footer">


                <button type="button" class="btn btn-primary" data-dismiss="modal" id="StartTest">
                    <i class="fa fa-check"></i>
                    Start Test
                </button>



            </div>
        </div>
    </div>
</div>



<!-- Instruction Modal Ends -->



    </main>

    


    <!-- Main Content Ends -->



  
    <footer class="border-top">
        <p class="pt-2 pb-0 mb-0">
            <span id="Year"></span> MathHub Online Examination System -
            <span id="systemVersion"></span>
        </p>
        <p class="mb-1">
            <small class="text-muted">
                Design &amp; Developed by <a href="https://www.nandysagar.in" target="_blank"> Sagar Nandy</a>
            </small>
        </p>
    </footer>

</body>

<!-- Timer.JS is Requried -->

<script src="js/timer.js"></script>

<!-- Security.js is Required -->

<script src="js/security.js"></script>


<script>

    // Make modal onload of page

    $(window).on('load', function () {
        //var delayMs = 2000; // delay in milliseconds

        setTimeout(function () {
            $('#InstructionModal').modal('show');
        });
    });

    /***
     * ***** This code is for testing
    // Set user name

    var userName = document.getElementById("userName");
    //userName.innerHTML = prompt("Enter Your Name");

    // Set user name ends
    **********/


    /* Count total words and characters in original text*/

    var originalText = document.getElementById("OriginalText").value;


    var texts = 

        {
            text: `Azadi Ka Amrit Mahotsav is an initiative of the Government of India to celebrate and commemorate 75 years of independence and the glorious history of its people, culture and achievements. This Mahotsav is dedicated to the people of India who have been instrumental in bringing India thus far in its evolutionary journey and hold within them the power and potential to enable the vision of activating India 2.0, fuelled by the spirit of Aatmanirbhar Bharat.It has recently concluded its first year. In view of this, the Ministry of Culture, Government of India, has organised a two-day conference in New Delhi to reflect on the progress of AKAM so far, gather best practices and ideate the strategies to be adopted for the remaining period of the celebration, especially for upcoming crucial initiatives.The success of AKAM depends critically on the 'Whole of Government' approach that ensures the involvement of every Ministry, State and Union Territory in this campaign, along with its counterparts abroad. In view of this substantial scale and involvement of stakeholders, the conference shall be attended by Senior Government Officers from every State and UT. The topics of discussion shall include landmark initiatives that involve mass public participation such as 'Har Ghar Jhanda', 'International Yoga Day', 'Digital District Repository', 'Swatantra Swar' and 'Mera Gaon Meri Dharohar'. It shall also have a session by the Ministry of Tourism focusing on its significant contributions to the AKAM campaign. It shall also have an ideation session by States/UTs on the noteworthy progress made by them under AKAM, along with deliberations on best practices and lessons learned so far and how they can be incorporated going forward. This conference shall be inaugurated by the Hon'ble Minister of Home and Co-operation. The opening address shall be delivered by the Hon'ble Minister of Culture, Tourism, and Development of the North Eastern Region of India. Inaugural addresses of sessions shall be delivered by the Hon'ble Minister of State for Parliamentary Affairs and Culture.`
        }
    
    

    var originalText = texts.text;

    // show text in original text area

   // document.getElementById("OriginalText").innerHTML = originalText;

    var originalTextWords = originalText.trim().split(" ");
    var originalTextWordsCount = originalTextWords.length;

       // count characters in words in original text

       var originalTextCharactersCount = 0;

    for(var i = 0; i < originalTextWordsCount; i++){
      
      document.getElementById("OriginalText").innerHTML += '<span wordnr=\"'+i+'\" class=\"\" id=\"sp'+i+'\">'+originalTextWords[i].replace(/\&/g,'&amp;').replace(/\</g,'&lt;').replace(/\>/g,'&gt;')+'</span>';
      document.getElementById("OriginalText").innerHTML += " ";
      // console.log(i);
      originalTextCharactersCount += originalTextWords[i].length;
    }

    var totalSpaceCount = originalText.match(/ /g).length;;
    console.log("Total Space : " + totalSpaceCount);

    var totalKeyStokes = originalText.length;

    console.log("Total Key Storkes : " + totalKeyStokes);


    // Display total words and characters in original text

    document.getElementById("totalWordsOT").innerHTML = " Words : " + originalTextWordsCount + ",";
    document.getElementById("totalSpaceOT").innerHTML = " Spaces : " + totalSpaceCount + ",";

    document.getElementById("totalCharactersOT").innerHTML = " Characters : " + originalTextCharactersCount + ",";
    document.getElementById("totalKeyStokesOT").innerHTML = "Key Stokes : " + totalKeyStokes;


    console.log("Total Words in origial text : " + originalTextWordsCount);
    console.log("Total character in origial text : " + originalTextCharactersCount);


    /* count typed words, character and keystokes */

    var typedText = document.getElementById("TypedText");

    typedText.addEventListener("keyup", function () {
        var typedTextValue = typedText.value;
        var typedTextWords = typedTextValue.trim().split(" ");
        var typedTextWordsCount = typedTextWords.length;

        var totalSpaceCount = typedTextValue.match(/ /g).length;

        var typedTextCharactersCount = 0;

        for (var i = 0; i < typedTextWordsCount; i++) {
            typedTextCharactersCount += typedTextWords[i].length;
        }

        var totalKeyStokesTT = typedTextValue.length;

        document.getElementById("totalWordsTT").innerHTML = " Words : " + typedTextWordsCount + ",";
        document.getElementById("totalSpaceTT").innerHTML = " Spaces : " + totalSpaceCount + ",";
        document.getElementById("totalCharactersTT").innerHTML = " Characters : " + typedTextCharactersCount + ",";
        document.getElementById("totalKeyStokesTT").innerHTML = "Key Stokes : " + totalKeyStokesTT + ",";

        /*

        console.log("Total Key Storkes : " + totalKeyStokesTT);

        console.log("Total Words in typed text : " + typedTextWordsCount);
        console.log( "Total character in typed text : " + typedTextCharactersCount);
        */

        /*
   
        var wrongCharCount = 0;
  
        // Get the user's input from an input field with the class "typedAnswer" and remove leading/trailing white spaces.
        var wordsInArea = $("#TypedText").val().trim().split(" ");

        var  givenWords = $("#OriginalText").val().trim().split(" ");
         

        // Iterate through each word in the user's input.
        for (var k = 0; k < wordsInArea.length; k++) {
            // Check if the trimmed user input word is not equal to the trimmed reference word at the same position.
            if ($.trim(wordsInArea[k]) != $.trim(givenWords[k])) {
            // Calculate the maximum length between the user input word and the reference word at the same position
            // and add it to the wrongCharCount. This accounts for extra characters in either of the words.
            wrongCharCount += wordsInArea[k].length > givenWords[k].length ?
                wordsInArea[k].length : givenWords[k].length;
            }
        }

    console.log(wrongCharCount);

    document.getElementById("WrongCharCountTT").innerHTML = "Wrong character :" + wrongCharCount;
    */


});




</script>

</html>